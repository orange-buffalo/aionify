# Quarkus configuration
quarkus.http.root-path=/

# Serve index.html for SPA routing
quarkus.http.enable-compression=true

# Container image configuration
quarkus.container-image.registry=ghcr.io
quarkus.container-image.group=orange-buffalo
quarkus.container-image.name=aionify

# Native build configuration
quarkus.native.container-build=true

# Database configuration
# DevServices will automatically start PostgreSQL via Testcontainers in dev/test mode
# In production, set AIONIFY_DB_URL, AIONIFY_DB_USERNAME, AIONIFY_DB_PASSWORD environment variables
quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.jdbc.url=${AIONIFY_DB_URL}
%prod.quarkus.datasource.username=${AIONIFY_DB_USERNAME}
%prod.quarkus.datasource.password=${AIONIFY_DB_PASSWORD}

# Flyway configuration
quarkus.flyway.migrate-at-start=true

# JWT Configuration
# SmallRye JWT will generate keys for dev/test mode automatically
# In production, set AIONIFY_JWT_PRIVATE_KEY_LOCATION environment variable
smallrye.jwt.new-token.signature-algorithm=RS256
%prod.smallrye.jwt.sign.key.location=${AIONIFY_JWT_PRIVATE_KEY_LOCATION:}
mp.jwt.verify.issuer=aionify
aionify.jwt.issuer=aionify
aionify.jwt.expiration-minutes=1440
